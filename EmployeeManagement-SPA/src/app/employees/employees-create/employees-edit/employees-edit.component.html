<form [formGroup]="editEmployeeForm" (ngSubmit)="updateEmployee()" class="mt-3">
  <h2 class="text-center mb-3">Edit Employee {{ employee.id }}</h2>

  <div class="col-md-4 col-md-offset-3 text-center container">
    <!-- FirstName -->
    <div class="form-group">
      <input
        type="text"
        maxlength="15"
        pattern="[a-zA-Z]*"
        [ngClass]="{
          'is-invalid':
          editEmployeeForm.get('firstName').errors &&
          editEmployeeForm.get('firstName').touched
        }"
        class="form-control"
        formControlName="firstName"
        placeholder="FirstName..."
        autocomplete="firstName"
      />
      <div class="invalid-feedback text-left"
      *ngIf="
          editEmployeeForm.get('firstName').touched &&
          editEmployeeForm.get('firstName').hasError('required')
          ">
        Please provide a First Name
      </div>
      <div class="invalid-feedback text-left"
      *ngIf="
          editEmployeeForm.get('firstName').touched &&
          editEmployeeForm.get('firstName').hasError('pattern')
          ">
        You must use alphabet characters only
      </div>
    </div>
    <!-- LastName -->
    <div class="form-group">
      <input
        type="text"
        maxlength="15"
        pattern="[a-zA-Z]*"
        [ngClass]="{
          'is-invalid':
          editEmployeeForm.get('lastName').errors &&
          editEmployeeForm.get('lastName').touched
        }"
        class="form-control"
        formControlName="lastName"
        placeholder="LastName..."
        autocomplete="lastName"
      />
      <div class="invalid-feedback text-left"
      *ngIf="
          editEmployeeForm.get('lastName').touched &&
          editEmployeeForm.get('lastName').hasError('required')
          ">
        Please provide a Last Name
      </div>
      <div class="invalid-feedback text-left"
      *ngIf="
          editEmployeeForm.get('lastName').touched &&
          editEmployeeForm.get('lastName').hasError('pattern')
          ">
        You must use alphabet characters only
      </div>
    </div>
    <!-- PID -->
    <div class="form-group">
      <input
        type="text"
        maxlength="9"
        [ngClass]="{
          'is-invalid':
          editEmployeeForm.get('personalIdentity').errors &&
          editEmployeeForm.get('personalIdentity').touched
        }"
        class="form-control"
        formControlName="personalIdentity"
        placeholder="PersonalIdentity..."
        autocomplete="personalIdentity"
      />
      <div class="invalid-feedback text-left"
      *ngIf="
          editEmployeeForm.get('personalIdentity').touched &&
          editEmployeeForm.get('personalIdentity').hasError('required')
          ">
        Please provide a PersonalIdentity
      </div>
      <div class="invalid-feedback text-left"
      *ngIf="
          editEmployeeForm.get('personalIdentity').touched &&
          editEmployeeForm.get('personalIdentity').hasError('minlength')
          ">
        ID must be 9 characters long
      </div>
      <div class="invalid-feedback text-left"
      *ngIf="
          editEmployeeForm.get('personalIdentity').touched &&
          editEmployeeForm.get('personalIdentity').hasError('pattern')
          ">
        Please use numbers only
      </div>
    </div>
    <!-- ManagerSelection -->
    <div class="form-group">
      <select
      [ngClass]="{
        'is-invalid':
        editEmployeeForm.get('managerId').errors &&
        editEmployeeForm.get('managerId').touched
      }"
      class="form-control"
      formControlName="managerId"
      autocomplete="managerId"
      >
        <option *ngFor="let manager of managers" value="{{ manager.id }}">{{ manager.firstName }} {{ manager.lastName }}</option>
      </select>
      <div class="invalid-feedback text-left"
      *ngIf="
          editEmployeeForm.get('managerId').touched &&
          editEmployeeForm.get('managerId').hasError('required')
          ">
        Please provide a Manager for the Employee
      </div>
    </div>
    <!-- Buttons -->
    <div class="form-group text-center">
      <button class="btn btn-outline-success mr-2" type="submit" [disabled]="!editEmployeeForm.valid">Save</button>
      <button class="btn btn-outline-dark" type="button" (click)="cancel()">
        Cancel
      </button>
    </div>
  </div>
</form>
